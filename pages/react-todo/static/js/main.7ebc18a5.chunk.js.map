{"version":3,"sources":["TodoStorage.js","components/TodoHeader.js","components/TodoItem.js","filterTypes.js","components/TodoFooter.js","App.js","index.js"],"names":["TodoItem","id","message","done","this","TodoStorage","key","_key","data","localStorage","getItem","_data","JSON","parse","_","_save","setItem","stringify","todoItem","Date","unshift","item","i","length","splice","TodoHeader","props","useState","setMessage","submit","addTodoItem","alert","className","placeholder","onChange","e","target","value","onKeyDown","keyCode","onClick","mutableMessage","editing","setEditState","updateMessage","currentTarget","contains","relatedTarget","update","onBlur","style","textDecoration","delete","CONSTANT","ALL_ITEM","DONE_ITEM","PENDING_ITEM","TodoFooter","isAllDone","toggleAllItems","filterType","updateFilter","deleteCheckedItems","display","filterTypes","App","todoStorage","select","todos","setTodos","currentFilter","setFilter","every","t","getTodoItem","updateTodoItem","deleteTodoItem","insert","filteredTodo","filter","todo","map","renderFilteredTodo","forEach","type","window","confirm","href","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7ebc18a5.chunk.js","sourcesContent":["class TodoItem {\n  constructor (id, message, done) {\n    this.id = id;\n    this.message = message;\n    this.done = done;\n  }\n}\n\nclass TodoStorage {\n  constructor (key = 'todo') {\n    this._key = key;\n    const data = localStorage.getItem(key);\n    if (data) {\n      try {\n        this._data = JSON.parse(data);\n      } catch (_) {\n        this._data = [];\n      }\n    } else {\n      this._data = [];\n      this._save();\n    }\n  }\n\n  _save () {\n    try {\n      localStorage.setItem(this._key, JSON.stringify(this._data));\n    } catch (_) {}\n  }\n\n  select () {\n    return [...this._data];\n  }\n\n  insert (message) {\n    const todoItem = new TodoItem(+new Date(), message, false);\n    this._data.unshift(todoItem);\n    this._save();\n  }\n\n  update (id, message, done) {\n    for (const item of this._data) {\n      if (item.id === id) {\n        item.message = message;\n        item.done = done;\n        break;\n      }\n    }\n    this._save();\n  }\n\n  delete (id) {\n    for (let i = 0; i < this._data.length; i++) {\n      if (this._data[i].id === id) {\n        this._data.splice(i, 1);\n        break;\n      }\n    }\n    this._save();\n  }\n}\n\nexport default TodoStorage;\n","import React, { useState } from 'react';\nimport '../styles/button.scss';\nimport './TodoHeader.scss';\n\nfunction TodoHeader (props) {\n  const [ message, setMessage ] = useState('')\n\n  const submit = () => {\n    if (!message) {\n      alert('To-Do item cannot be empty')\n      return\n    }\n    props.addTodoItem({ message })\n    setMessage('')\n  }\n\n  const submitKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      submit();\n    }\n  }\n\n  return (\n    <div className=\"todo__header\">\n      <input placeholder=\"To-Do item..\"\n        onChange={e => setMessage(e.target.value)}\n        onKeyDown={submitKeyDown}\n        value={message}\n      />\n      <button className=\"button accent\" onClick={submit}>Add</button>\n    </div>\n  );\n}\n\nexport default TodoHeader;\n","import React, { useState } from 'react';\nimport '../styles/button.scss';\nimport './TodoItem.scss';\n\nfunction TodoItem (props) {\n  const { id, message, done } = props;\n  const [ mutableMessage, setMessage ] = useState(message);\n  const [ editing, setEditState ] = useState(false);\n  \n  const updateDoneState = () => {\n    props.update({ id, message, done: !done });\n  }\n\n  const updateMessage = (e) => {\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      setEditState(false);\n      props.update({ id, message: mutableMessage, done });\n    }\n  }\n\n  return (\n    <div className=\"todo__item\">\n      <div className=\"todo__item__control--left\">\n        <button\n          className={done ? 'toggle--active' : 'toggle'}\n          onClick={updateDoneState}\n        >\n        </button>\n      </div>\n      {\n        editing ? (\n          <input className=\"todo__item__edit\"\n            onChange={e => setMessage(e.target.value)}\n            onKeyDown={e => e.keyCode === 13 && updateMessage()}\n            onBlur={updateMessage}\n            value={mutableMessage}\n          />\n        ) : (\n          <b\n            style={{textDecoration: done ? 'line-through' : 'none'}}\n            onClick={() => setEditState(true)}\n          >{mutableMessage}</b>\n        )\n      }\n      <div className=\"todo__item__control--right\">\n        <button\n          className=\"button red\"\n          onClick={() => props.delete({ id })}\n        >\n          X\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default TodoItem;\n","const CONSTANT = {\n  ALL_ITEM: 'ALL_ITEM',\n  DONE_ITEM: 'DONE_ITEM',\n  PENDING_ITEM: 'PENDING_ITEM'\n};\n\nexport default CONSTANT;\n","import React from 'react';\nimport '../styles/button.scss';\nimport './TodoFooter.scss';\n\nimport filterTypes from '../filterTypes';\n\nfunction TodoFooter (props) {\n  const {\n    isAllDone,\n    toggleAllItems,\n    filterType,\n    updateFilter,\n    deleteCheckedItems\n  } = props;\n\n  return (\n    <div className=\"todo__footer\">\n      <div className=\"todo__footer__panel\">\n        <div className=\"todo__footer__item\">\n          <button\n            className={isAllDone ? 'toggle--active' : 'toggle'}\n            style={{\n              display: filterType === filterTypes.ALL_ITEM\n                ? 'block'\n                : 'none'\n            }}\n            onClick={toggleAllItems}\n          ></button>\n        </div>\n        <div className=\"todo__footer__item\">\n          <button\n            className={\n              filterType === filterTypes.ALL_ITEM\n                ? 'button--active'\n                : 'button'\n            }\n            onClick={() => updateFilter(filterTypes.ALL_ITEM)}\n          >All</button>\n        </div>\n        <div className=\"todo__footer__item\">\n          <button\n            className={\n              filterType === filterTypes.DONE_ITEM\n                ? 'button--active'\n                : 'button'\n            }\n            onClick={() => updateFilter(filterTypes.DONE_ITEM)}\n          >Done</button>\n        </div>\n        <div className=\"todo__footer__item\">\n          <button\n            className={\n              filterType === filterTypes.PENDING_ITEM\n                ? 'button--active'\n                : 'button'\n            }\n            onClick={() => updateFilter(filterTypes.PENDING_ITEM)}\n          >Pending</button>\n        </div>\n        <div className=\"todo__footer__item\">\n          <button\n            className=\"button red\"\n            onClick={deleteCheckedItems}\n          >Delete</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default TodoFooter;\n","import React, { useState } from 'react';\nimport './App.scss';\n\nimport TodoStorage from './TodoStorage'\nimport TodoHeader from './components/TodoHeader';\nimport TodoItem from './components/TodoItem';\nimport TodoFooter from './components/TodoFooter';\nimport filterTypes from './filterTypes';\n\nfunction App () {\n  const todoStorage = new TodoStorage('react-todo_v1');\n  const [ todos, setTodos ] = useState(todoStorage.select());\n  const [ currentFilter, setFilter ] = useState(filterTypes.ALL_ITEM);\n\n  const isAllDone = () => {\n    return !!todos.length && todos.every(t => t.done);\n  };\n\n  const renderFilteredTodo = () => {\n    let filteredTodo;\n    switch (currentFilter) {\n      case filterTypes.ALL_ITEM:\n        filteredTodo = todos;\n        break;\n\n      case filterTypes.DONE_ITEM:\n        filteredTodo = todos.filter(todo => todo.done);\n        break;\n\n      case filterTypes.PENDING_ITEM:\n        filteredTodo = todos.filter(todo => !todo.done);\n        break;\n\n      default:\n        filteredTodo = todos;\n    }\n\n    return (\n      filteredTodo.length === 0 ? (\n        <div className=\"todo--empty\">To-Do Item is empty..</div>\n      ) : (\n        filteredTodo.map(todo => (\n          <TodoItem\n            id={todo.id}\n            message={todo.message}\n            done={todo.done}\n            key={todo.id}\n            update={updateTodoItem}\n            delete={deleteTodoItem}\n          />\n        ))\n      )\n    );\n  };\n\n  const getTodoItem = () => {\n    setTodos(todoStorage.select());\n  };\n\n  const addTodoItem = ({ message }) => {\n    todoStorage.insert(message);\n    getTodoItem();\n  };\n\n  const updateTodoItem = ({ id, message, done }) => {\n    todoStorage.update(id, message, done);\n    getTodoItem();\n  };\n\n  const deleteTodoItem = ({ id }) => {\n    todoStorage.delete(id);\n    getTodoItem();\n  };\n\n  const toggleAllItems = () => {\n    const done = !isAllDone()\n    todos.forEach(todo => {\n      todoStorage.update(todo.id, todo.message, done);\n      getTodoItem();\n    })\n  };\n\n  const updateFilter = (type) => {\n    setFilter(type);\n  };\n\n  const deleteCheckedItems = () => {\n    if (!window.confirm('Are you sure?')) {\n      return\n    }\n\n    todos\n      .filter(todo => todo.done)\n      .forEach(todo => {\n        todoStorage.delete(todo.id)\n        getTodoItem()\n      })\n  }\n\n  return (\n    <div className=\"app\">\n      <TodoHeader\n        addTodoItem={addTodoItem}\n      />\n      <div className=\"todo\">\n        {renderFilteredTodo()}\n      </div>\n      <TodoFooter\n        isAllDone={isAllDone()}\n        toggleAllItems={toggleAllItems}\n        filterType={currentFilter}\n        updateFilter={updateFilter}\n        deleteCheckedItems={deleteCheckedItems}\n      />\n      <div className=\"source-code\">\n        <h6>Using React</h6>\n        <a href=\"https://github.com/leegeunhyeok/react-todo\">Source Code</a>\n      </div>\n      <div className=\"checkout\">\n        <a className=\"react active\"\n          href=\"https://docs.geundung.dev/pages/react-todo\"\n        >React</a>\n        <a className=\"vue\"\n          href=\"https://docs.geundung.dev/pages/vue-todo\"\n        >Vue</a>\n        <a className=\"angular\" href=\"./?\">Angluar</a>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}